{"version":3,"sources":["service/getWhoIsNext.js","context/initialState.js","context/AppContext.js","components/Controls.jsx","assert/images/machine.png","components/Hero.jsx","components/Client.jsx","components/Queue.jsx","App.js","index.js"],"names":["whoIsNext","names","r","geekNames","length","Math","ceil","initialState","running","drinksAvailable","iteration","queueClient","clientList","Context","createContext","AppContextProvider","children","useState","state","setState","addIteration","useCallback","newClient","reset","flag","useEffect","interval","setInterval","clearInterval","actions","toggleRunning","changeDrinksAvailable","value","Provider","Controls","useContext","AppContext","latest","className","type","min","max","onChange","e","target","disabled","onClick","Hero","src","heroImage","alt","Client","img","name","Queue","handleImage","client","toLowerCase","clientEndRef","useRef","current","scrollIntoView","behavior","map","index","ref","App","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b1c5c4cd.chunk.js","sourcesContent":["export function whoIsNext (names, r) {\n  let geekNames = names.length\n  while (r > geekNames) {\n    r = r - geekNames\n    geekNames = geekNames * 2\n  }\n  return names[Math.ceil(r / (geekNames / names.length)) - 1]\n}\n","export const initialState = {\n  running: false,\n  drinksAvailable: 1,\n  iteration: 0,\n  queueClient: [],\n  clientList: ['Sheldon', 'Leonard', 'Penny', 'Rajesh', 'Howard']\n}\n","import React, { createContext, useState, useEffect, useCallback } from 'react'\nimport { whoIsNext } from '../service/getWhoIsNext'\nimport { initialState } from './initialState'\n\nconst Context = createContext({})\n\nexport function AppContextProvider ({ children }) {\n  const [state, setState] = useState(initialState)\n\n  const addIteration = useCallback(\n    ({ newClient }) => {\n      setState({\n        ...state,\n        iteration: state.iteration + 1,\n        queueClient: [...state.queueClient, newClient]\n      })\n    }, [state]\n  )\n\n  const reset = useCallback(\n    ({ flag }) => {\n      setState({\n        ...state,\n        running: false,\n        iteration: 0,\n        queueClient: flag ? [] : [...state.queueClient]\n      })\n    }, [state]\n  )\n\n  const { running, iteration, drinksAvailable, clientList } = state\n\n  useEffect(() => {\n    let interval = null\n    if (running) {\n      if (iteration < drinksAvailable) {\n        interval = setInterval(() => {\n          addIteration({ newClient: whoIsNext(clientList, iteration + 1) })\n        }, 1000)\n      } else {\n        reset({ flag: false })\n        clearInterval(interval)\n      }\n    } else if (!running && iteration !== 0) {\n      clearInterval(interval)\n    }\n    return () => clearInterval(interval)\n  }, [running, iteration, drinksAvailable, addIteration, clientList, reset])\n\n  const toggleRunning = () => {\n    setState({\n      ...state,\n      running: !state.running,\n      queueClient: !state.running && state.iteration === 0 ? [] : [...state.queueClient]\n    })\n  }\n\n  const changeDrinksAvailable = ({ value }) => {\n    setState({\n      ...state,\n      drinksAvailable: value\n    })\n  }\n\n  const actions = {\n    toggleRunning,\n    changeDrinksAvailable,\n    reset\n  }\n\n  return (\n    <Context.Provider value={{ state, actions }}>\n      {children}\n    </Context.Provider>\n  )\n}\n\nexport default Context\n","import React, { useContext } from 'react'\nimport AppContext from '../context/AppContext'\n\nconst Controls = () => {\n  const { state, actions } = useContext(AppContext)\n  const { running, drinksAvailable, queueClient, iteration } = state\n  const { toggleRunning, changeDrinksAvailable, reset } = actions\n\n  const handleRunning = () => {\n    toggleRunning()\n  }\n\n  const handleInput = (e) => {\n    changeDrinksAvailable({ value: e.target.value })\n  }\n\n  const handleReset = () => {\n    reset({ flag: true })\n  }\n\n  const latest = queueClient[queueClient.length - 1]\n\n  return (\n    <div>\n      <div className='controls'>\n        <div className='controls__instructions'>\n          <h3 className='controls__instructions-title' >Instructions: </h3>\n          <ol className='controls__instructions-items'>\n            <li className='controls__instructions-item' >set the amount of <strong>drinks available</strong></li>\n            <li className='controls__instructions-item' >press start to start delivering the drinks</li>\n          </ol>\n        </div>\n        <div className='controls__input'>\n          <label className='controls__input-label'>\n            <span> Drinks available:</span>\n            <input className='controls__input-in' type=\"number\"\n              min=\"1\" max=\"100\"\n              value={drinksAvailable} onChange={handleInput}\n              disabled={iteration}\n            />\n          </label>\n        </div>\n        <div className='controls__buttons' >\n          <button className='btn' onClick={handleRunning} >{running ? 'Stop' : 'Start'}</button>\n          <button className='btn' onClick={handleReset} >Reset</button>\n        </div>\n\n      </div>\n      <br />\n      {\n        latest && !running && <p className='alert info'>{`The last in the queue was: ${latest}`}</p>\n      }\n    </div>\n  )\n}\n\nexport default Controls\n","export default __webpack_public_path__ + \"static/media/machine.45ef2e02.png\";","import React from 'react'\nimport Controls from './Controls'\n\nimport heroImage from '../assert/images/machine.png'\n\nconst Hero = () => {\n  return (\n    <div className='container-hero'>\n      <h2 className='container-hero-title'>welcome to the drink machine</h2>\n      <div className='container-machine'>\n        <img className='container-machine__img' src={heroImage} alt='machine' />\n        <Controls />\n      </div>\n    </div>\n  )\n}\n\nexport default Hero\n","import React from 'react'\n\nconst Client = ({ img, name }) => (\n  <div className='client'>\n    <img className='client__img' src={img} alt={name} />\n    <div className='client__detail'>\n      <h3 className='client__detail-title' >{name}</h3>\n      <p>has been attended</p>\n    </div>\n  </div>\n)\n\nexport default Client\n","import React, { useEffect, useContext, useRef } from 'react'\nimport Client from './Client'\nimport AppContext from '../context/AppContext'\n\nconst Queue = () => {\n  const { state } = useContext(AppContext)\n  const { queueClient, running } = state\n\n  const handleImage = (client) => {\n    return `/images/${client.toLowerCase()}.png`\n  }\n\n  const clientEndRef = useRef(null)\n  const scrollToBottom = () => {\n    clientEndRef.current.scrollIntoView({ behavior: 'smooth' })\n  }\n\n  useEffect(() => {\n    if (running) {\n      scrollToBottom()\n    }\n  }, [queueClient, running])\n\n  return (\n    <div className='container-queue'>\n      <h2 className='container-queue__title'>Queue: {queueClient.length}</h2>\n      <div className='container-queue__list'>\n        {\n          queueClient.map((client, index) => <Client key={`client_${index}`} name={client} img={handleImage(client)} />)\n        }\n        <div ref={clientEndRef}></div>\n      </div>\n\n    </div>\n  )\n}\n\nexport default Queue\n","import React from 'react'\nimport Hero from './components/Hero'\nimport Queue from './components/Queue'\n\nconst App = () => {\n  return (\n    <>\n      <Hero />\n      <Queue />\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport { render } from 'react-dom'\nimport App from './App'\nimport { AppContextProvider } from './context/AppContext'\nimport './styles/global.scss'\n\nrender(\n  <React.StrictMode>\n    <AppContextProvider >\n      <App />\n    </AppContextProvider >\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}